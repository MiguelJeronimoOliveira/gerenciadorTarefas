<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Listar Tarefas</title>
</head>
<h:body>
	<h:outputText value="Pesquise suas Tarefas,     " style="font-size:20px"/>
	<h:outputText value="#{usuarioBean.nomeUsuario}" style="font-size:20px"/>
    <h:form>
        <h:commandButton value="Voltar" action="#{usuarioBean.paginaPrincipal}" />
        <h:commandButton value="Sair" action="#{usuarioBean.logout}"/>
    </h:form>


<h:form id="formFiltroTarefa" style="margin-top:5%; margin-left:27%">
    <h:panelGrid columns="2">
    		<f:facet name="header">
			<h:outputText value="Pesquisar tarefas"/>
		</f:facet>
        <h:outputLabel value="Número da Tarefa:" />
        <h:inputText value="#{tarefaBean.filtro.numero}" />

        <h:outputLabel value="Título ou Descrição:" />
        <h:inputText value="#{tarefaBean.filtro.tituloDescricao}" />

        <h:outputLabel value="Situação:" />
  <h:selectOneMenu value="#{tarefaBean.filtro.situacaoSelecionada}">
					        <f:selectItem itemLabel="Selecione uma situacão"  itemValue="#{null}"/>
					        <f:selectItems value="#{tarefaBean.situacoes}"/>
					    </h:selectOneMenu>

        <h:commandButton value="Filtrar" action="#{tarefaBean.filtrar}" />
    </h:panelGrid>
    
    <h:dataTable value="#{tarefaBean.tarefas}" var="tarefa" border="2" cellpadding="5">
    <h:column>
        <f:facet name="header">ID</f:facet>
        <h:outputText value="#{tarefa.id}" />
    </h:column>
    <h:column>
        <f:facet name="header">Título</f:facet>
        <h:outputText value="#{tarefa.titulo}" />
    </h:column>
    <h:column>
        <f:facet name="header">Descrição</f:facet>
        <h:outputText value="#{tarefa.descricao}" />
    </h:column>
    <h:column>
        <f:facet name="header">Situação</f:facet>
        <h:outputText value="#{tarefa.situacao}" />
    </h:column>
    
    			<h:column>
				<f:facet name="header">Editar</f:facet>
				<h:commandLink value="Editar">
					<f:setPropertyActionListener value="#{tarefa}" target="#{tarefaBean.tarefa}"/>
				</h:commandLink>
				
				<h:outputLabel style= "width:200px" value="  "/>
				
				<h:commandLink value="Deletar" action="#{tarefaBean.deletar(tarefa)}">
					<f:setPropertyActionListener value="#{tarefa}" target="#{tarefaBean.tarefa}"/>
				</h:commandLink>
				<h:outputLabel style= "width:200px" value="  "/>
				
				<h:commandLink value="Concluir" action="#{tarefaBean.concluir}">
					<f:setPropertyActionListener value="#{tarefa}" target="#{tarefaBean.tarefa}"/>
				</h:commandLink>
			</h:column>
</h:dataTable>

</h:form>


</h:body>
</html>